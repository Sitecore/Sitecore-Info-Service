# Sitecore Information Service (SIS)

## Details

### Definitions Details

Definitions consists of:

* Products
  * Name
  * Metadata (Alias, Default NuGet)
  * Versions
    * Version
    * Revisions

Revision consists of:

* Releases 
  * Release Name (each release must contain "default", but can also have "solr", "delivery", "sdk" etc.)
  * Update Number (e.g. "7")
  * Label (e.g. Initial Release, or Update-7, or Service Pack-2)
  * Release Date
  * Downloads of Distribution Packages
    * Links to SDN or DEV portals
    * Path (name of downloaded zip file plus *optional* path in this zip if necessary)
  * (Optional) Compatibility with other products versions or version and revision(s).
  
Comptibility is defined as

* Outer Dictionary with compatible product name as Keys and Inner Dictionary as Values
* Inner Dictionary with compatible version as key and 
  * either compatible revisions,
  * or empty array if all revisions are compatible

### Definitions Format

Currently supported format is "4".

### Definitions Format "4"

Main data file can have any name and all it can contain is `Metadata`:

```json
{
  "Metadata": {
    "Format": "4"
  }
}
```

In the same directory where main data file is stored, there must be folder called `Products`. 

Every product must be represented by 2 items in the `Products` directory:

* the `Products/<product name>` subdirectory
* the `Products/<product name>.json` file that follows the format according to this example:

```json
{
  "Metadata": {
    "Alias": "SXA82",
    "DefaultPackage": "SXA82.Sitecore.XA.Foundation.Common",
  }
}
```

The Alias means prefix for NuGet packages generated by SIM. It must be unque per product, short and meaningful. 
Ihe this example the alias value is SXA81 where SXA is commonly used name of the module and 81 part is required to 
distinct two SXA versions: "Sitecore Experience Accelerator for 8.2" and "Sitecore Experience Accelerator for 8.1".

The DefaultPackage is the default NuGet package that will be installed by Patch Creator when this module is selected.
Obviously, it must be a combination of Alias and the Assembly file name that is presented in all revisions of the product.

Every version of the product must be represented by 

* the `Products/<product name>/<product version>` directory

Every revision of the product version must be represented by

* the `Products/<product name>/<product version>/<product revison>.json` file that follows the format according to this example:

```
{
  "Label": "Update-3",
  "Date": "2015-04-30",
  "Update": "3",
  "Distributions": {
    "default": {
      "Downloads": {
        "Link": "https://dev.sitecore.net/~/media/112486E39AE54610875025BE7FAAC63C.ashx",
        "Path": "Email Experience Manager 3.0 rev.150429 NOT SC PACKAGE.zip/Email Experience Manager 3.0 rev. 150429.zip/package.zip",
      }
    },
    "delivery": {
      "Downloads": {
        "Link": "https://dev.sitecore.net/~/media/112486E39AE54610875025BE7FAAC63C.ashx",
        "Path": "Email Experience Manager 3.0 rev.150429 NOT SC PACKAGE.zip/Email Experience Manager - CD 3.0 rev. 150429.zip/package.zip",
      }
    }
  },
  "Compatibility": {
    "Sitecore CMS": {
      "8.0": []
    }
  }
}
```

Email Experience Manager is distrubited as a regular zip file 
(`Email Experience Manager 3.0 rev.150429 NOT SC PACKAGE.zip`) with several inner zip files that serve different purposes. 
The `"default"` distribution here will be `Email Experience Manager 3.0 rev. 150429.zip` which is indended for default 
Standalone Sitecore installation. 

The `"delivery"` distribution has same `"Link"` but different `"Path",` which points to the package for ContentDelivery instance.

This version of EXM is compatible with any 8.0 release, so the empty array is defined. 
